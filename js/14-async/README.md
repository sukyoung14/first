​1. Call Stack (콜 스택)

- JavaScript는 싱글 스레드(single-threaded) 언어이기 때문에 한 번에 하나의 작업만 수행할 수 있음
- 이때 사용되는 것이 콜 스택임

- LIFO(Last In, First Out) 구조: 가장 나중에 들어간 것이 먼저 나옴
- 함수 호출이 발생할 때마다 해당 함수는 콜 스택에 push됨
- 함수의 실행이 완료되면 해당 함수는 콜 스택에서 pop됨

- 콜 스택이 비어있으면 JavaScript는 다른 작업을 수행할 수 있음

​2. Web APIs

- 브라우저 제공의 API
- 별도의 스레드에서 실행되므로 콜 스택을 차지하지 않음

​- 예를 들어, setTimeout, fetch 등의 비동기 함수는 Web API를 사용함

- 이러한 함수들은 콜 스택에서 빠르게 실행되고 제거되지만, 실제 작업은 Web API에서 처리됨

​3. Callback Queue (Task Queue)

- 비동기 작업이 완료된 후 실행되어야 할 콜백 함수들이 대기하는 곳
- Web API 작업이 완료되면, 콜백 함수는 Callback Queue에 추가됨
- FIFO(First In, First Out) 구조

​4. Event Loop

- 이벤트 루프의 주 역할은 콜 스택과 콜백 큐를 지속적으로 확인하는 것임
- 콜 스택이 비어 있다면, 콜백 큐에 있는 함수를 콜 스택으로 옮김
- 이를 통해 비동기 콜백이 적절한 시점에 실행됨

​※ 작동 과정 예시

① 콜 스택에 함수가 추가됨

- 예를 들어, fetch 함수를 호출하면 fetch는 콜 스택에 추가됨

② Web API로 이동

- fetch는 Web API로 이동하여 데이터를 가져옴

③ 콜 스택에서 제거

- fetch 작업이 시작되면, 이 함수는 콜 스택에서 제거됨

④ 콜백 큐에 추가

- 데이터가 성공적으로 가져와지면, 콜백 함수가 콜백 큐에 추가됨

⑤ 이벤트 루프 체크

- 이벤트 루프는 콜 스택이 비어 있는지 확인함

⑥ 콜 스택으로 이동

- 콜 스택이 비어 있다면, 콜백 함수가 콜 스택으로 이동하고 실행됨

​→ 이러한 메커니즘을 통해 JavaScript는 싱글 스레드 언어임에도 불구하고 비동기 처리를 효율적으로 수행할 수 있음
